{"version":3,"sources":["components/Notification.module.css","components/Input.js","components/Filter.js","components/Persons.js","components/Notification.js","services/Notes.js","index.js"],"names":["module","exports","Input","value","onChangeComp","type","label","onChange","e","target","Filter","filterValue","setfilterValue","style","marginBottom","Persons","persons","personHandleDelete","length","map","el","key","name","phoneNumber","marginLeft","onClick","_id","filter","toLowerCase","includes","Notification","message","color","className","classes","error","baseUrl","getAllNotes","a","axios","get","res","data","createNote","post","response","updateNote","id","patch","deleteNote","delete","App","useState","setPersons","setMessage","messageColor","setMessageColor","newName","setNewName","newphoneNumber","setNewphoneNumber","useEffect","doc","fetchData","formHandler","preventDefault","some","window","confirm","singlePerson","newPerson","console","log","setTimeout","newPersons","onSubmit","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cafb1157.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Notification_error__3R2sS\"};","import React from 'react';\n\nfunction Input({ value, onChangeComp, type, label }) {\n  return (\n    <>\n      {' '}\n      {label}:{' '}\n      <input\n        value={value}\n        onChange={(e) => onChangeComp(e.target.value)}\n        type={type}\n      />\n    </>\n  );\n}\n\nexport default Input;\n","import React from 'react';\nimport Input from './Input';\n\nfunction Filter({ filterValue, setfilterValue }) {\n  return (\n    <div style={{ marginBottom: '20px' }}>\n      <Input\n        type='text'\n        value={filterValue}\n        onChangeComp={setfilterValue}\n        label='filter shown with'\n      />{' '}\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from 'react';\n\nfunction Persons({ persons, filterValue, personHandleDelete }) {\n  return persons.length > 0 && !filterValue\n    ? persons.map((el) => (\n        <p key={el.name}>\n          {el.name} : {el.phoneNumber}\n          <button\n            style={{ marginLeft: '20px' }}\n            onClick={() => personHandleDelete(el._id, el.name)}\n          >\n            delete\n          </button>\n        </p>\n      ))\n    : persons\n        .filter((el) =>\n          el.name.toLowerCase().includes(filterValue.toLowerCase())\n        )\n        .map((el) => (\n          <p key={el.name}>\n            {el.name} : {el.phoneNumber}\n          </p>\n        ));\n}\n\nexport default Persons;\n","import React from 'react';\nimport classes from './Notification.module.css';\n\nfunction Notification({ message, color }) {\n  if (!message) return null;\n  return (\n    <div className={classes.error} style={{ color: color }}>\n      {message}\n    </div>\n  );\n}\n\nexport default Notification;\n","import axios from 'axios';\n\nconst baseUrl = 'https://shielded-escarpment-66552.herokuapp.com/api/persons';\n\nexport const getAllNotes = async () => {\n  const res = await axios.get(baseUrl);\n  return res.data.data;\n};\n\nexport const createNote = async (data) => {\n  try {\n    return await axios.post(baseUrl, data);\n  } catch (error) {\n    // console.log(error.response.data.error);\n    throw error.response.data.error;\n  }\n};\nexport const updateNote = async (id, data) => {\n  try {\n    const res = await axios.patch(`${baseUrl}/${id}`, data);\n    return res.data.data;\n  } catch (error) {\n    // console.log(error.response.data.error);\n    throw error.response.data.error;\n  }\n};\nexport const deleteNote = async (id) => {\n  return await axios.delete(`${baseUrl}/${id}`);\n};\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Filter from './components/Filter';\nimport Input from './components/Input';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport {\n  getAllNotes,\n  createNote,\n  deleteNote,\n  updateNote,\n} from './services/Notes';\n\nconst App = () => {\n  // const [persons, setPersons] = useState([]);\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [messageColor, setMessageColor] = useState(null);\n\n  const [newName, setNewName] = useState('');\n  const [newphoneNumber, setNewphoneNumber] = useState('');\n  const [filterValue, setfilterValue] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await getAllNotes();\n      setPersons(res.doc);\n    };\n    fetchData();\n  }, []);\n\n  const formHandler = async (e) => {\n    e.preventDefault();\n    const data = {\n      name: newName,\n      phoneNumber: newphoneNumber,\n    };\n\n    if (persons.some((el) => el.name === newName)) {\n      setMessage(null);\n      const confirm = window.confirm(\n        `${newName} is already addded to phonebook,DO you want to replace the old number with a new one`\n      );\n      if (confirm) {\n        try {\n          const singlePerson = persons.filter((el) => el.name === newName);\n          // console.log(singlePerson);\n          const id = singlePerson[0]._id;\n          // console.log(id);\n\n          const res = await updateNote(id, data);\n          const newPerson = persons.filter((el) => el._id !== id);\n          setPersons([...newPerson, res.doc]);\n\n          setMessage(`Changed number of ${newName} successfully`);\n          setMessageColor('green');\n\n          setNewName('');\n          setNewphoneNumber('');\n        } catch (error) {\n          // console.log(error);\n          setMessage(error);\n          setMessageColor('red');\n        }\n      }\n    } else {\n      try {\n        const res = await createNote(data);\n        console.log(res.data.data.doc);\n        await setPersons([...persons, res.data.data.doc]);\n\n        setMessage(` Added ${newName} successfully`);\n        setMessageColor('green');\n\n        setNewName('');\n        setNewphoneNumber('');\n      } catch (error) {\n        // console.log(error);\n        setMessage(error);\n        setMessageColor('red');\n      }\n    }\n  };\n  if (message) {\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  }\n  // delete\n\n  const personHandleDelete = async (id, name) => {\n    // console.log(id);\n    const confirm = window.confirm(`Do you really want to Delete ${name} ?`);\n    // confirm will give true or false , true if pressed ok\n    if (confirm) {\n      try {\n        const res = await deleteNote(id);\n        console.log(res);\n        const newPersons = persons.filter((el) => el._id !== id);\n        await setPersons(newPersons);\n        setMessageColor('green');\n        setMessage(`Successfully deleted`);\n      } catch (error) {\n        setMessageColor('red');\n        setMessage(\n          `Information of this person has already been removed from the server. Please refresh the page`\n        );\n        console.log(error);\n      }\n    }\n  };\n  return (\n    <div>\n      <Notification message={message} color={messageColor} />\n      <h2>Phonebook</h2>\n      <Filter value={filterValue} setfilterValue={setfilterValue} />\n\n      <form onSubmit={formHandler}>\n        <div style={{ marginBottom: '20px' }}>\n          <Input\n            label='name'\n            value={newName}\n            onChangeComp={setNewName}\n            type='text'\n          />\n        </div>\n        <div style={{ marginBottom: '20px' }}>\n          <Input\n            label='phoneNumber'\n            value={newphoneNumber}\n            onChangeComp={setNewphoneNumber}\n            type='number'\n          />\n        </div>\n\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filterValue={filterValue}\n        personHandleDelete={personHandleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}