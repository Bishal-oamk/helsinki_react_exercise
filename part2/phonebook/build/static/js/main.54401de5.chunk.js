(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,t,n){e.exports={error:"Notification_error__3R2sS"}},17:function(e,t,n){e.exports=n(40)},40:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(3),o=n(4),u=n(0),s=n.n(u),l=n(15),i=n.n(l);var p=function(e){var t=e.value,n=e.onChangeComp,r=e.type,a=e.label;return s.a.createElement(s.a.Fragment,null," ",a,":"," ",s.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)},type:r}))};var f=function(e){var t=e.filterValue,n=e.setfilterValue;return s.a.createElement("div",{style:{marginBottom:"20px"}},s.a.createElement(p,{type:"text",value:t,onChangeComp:n,label:"filter shown with"})," ")};var m=function(e){var t=e.persons,n=e.filterValue,r=e.personHandleDelete;return t.length>0&&!n?t.map((function(e){return s.a.createElement("p",{key:e.name},e.name," : ",e.phoneNumber,s.a.createElement("button",{style:{marginLeft:"20px"},onClick:function(){return r(e.id,e.name)}},"delete"))})):t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return s.a.createElement("p",{key:e.name},e.name," : ",e.phoneNumber)}))},b=n(16),v=n.n(b);var d=function(e){var t=e.message,n=e.color;return t?s.a.createElement("div",{className:v.a.error,style:{color:n}},t):null},h=n(5),x=n.n(h),w="https://shielded-escarpment-66552.herokuapp.com/api/persons",g=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(w);case 2:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(w,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.patch("".concat(w,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(w,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(u.useState)(null),i=Object(o.a)(l,2),b=i[0],v=i[1],h=Object(u.useState)(null),x=Object(o.a)(h,2),w=x[0],O=x[1],j=Object(u.useState)(""),C=Object(o.a)(j,2),S=C[0],N=C[1],D=Object(u.useState)(""),V=Object(o.a)(D,2),B=V[0],L=V[1],_=Object(u.useState)(""),H=Object(o.a)(_,2),I=H[0],J=H[1];Object(u.useEffect)((function(){(function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,console.log(t.data),r(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=function(){var e=Object(c.a)(a.a.mark((function e(t){var c,o,u,s,l,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c={name:S,phoneNumber:B},!n.some((function(e){return e.name===S}))){e.next=23;break}if(v(null),!window.confirm("".concat(S," is already addded to phonebook,DO you want to replace the old number with a new one"))){e.next=21;break}return o=n.filter((function(e){return e.name===S})),console.log(o),u=o[0].id,console.log(u),e.next=12,E(u,c);case 12:return e.next=14,g();case 14:return s=e.sent,e.next=17,r(s.data);case 17:v("Changed number of ".concat(S," successfully")),O("green"),N(""),L("");case 21:e.next=36;break;case 23:return e.next=25,y(c);case 25:return l=e.sent,console.log(l),e.next=29,g();case 29:return i=e.sent,e.next=32,r(i.data);case 32:v(" Added ".concat(S," successfully")),O("green"),N(""),L("");case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();b&&setTimeout((function(){v(null)}),5e3);var A=function(){var e=Object(c.a)(a.a.mark((function e(t,c){var o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!window.confirm("Do you really want to Delete ".concat(c," ?"))){e.next=18;break}return e.prev=3,e.next=6,k(t);case 6:return o=e.sent,console.log(o),u=n.filter((function(e){return e.id!==t})),e.next=11,r(u);case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),O("red"),v("Information of this person has already been removed from the server. Please refresh the page"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement(d,{message:b,color:w}),s.a.createElement("h2",null,"Phonebook"),s.a.createElement(f,{value:I,setfilterValue:J}),s.a.createElement("form",{onSubmit:P},s.a.createElement("div",{style:{marginBottom:"20px"}},s.a.createElement(p,{label:"name",value:S,onChangeComp:N,type:"text"})),s.a.createElement("div",{style:{marginBottom:"20px"}},s.a.createElement(p,{label:"phoneNumber",value:B,onChangeComp:L,type:"number"})),s.a.createElement("div",null,s.a.createElement("button",{type:"submit"},"add"))),s.a.createElement("h2",null,"Numbers"),s.a.createElement(m,{persons:n,filterValue:I,personHandleDelete:A}))};t.default=O;i.a.render(s.a.createElement(O,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.54401de5.chunk.js.map