{"version":3,"sources":["components/Notification.module.css","components/Input.js","components/Filter.js","components/Persons.js","components/Notification.js","services/Notes.js","index.js"],"names":["module","exports","Input","value","onChangeComp","type","label","onChange","e","target","Filter","filterValue","setfilterValue","style","marginBottom","Persons","persons","personHandleDelete","length","map","el","key","name","phoneNumber","marginLeft","onClick","id","filter","toLowerCase","includes","Notification","message","color","className","classes","error","baseUrl","getAllNotes","a","axios","get","res","console","log","data","createNote","post","updateNote","patch","deleteNote","delete","App","useState","setPersons","setMessage","messageColor","setMessageColor","newName","setNewName","newphoneNumber","setNewphoneNumber","useEffect","fetchData","formHandler","preventDefault","some","window","confirm","singlePerson","res2","setTimeout","newPersons","onSubmit","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54401de5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Notification_error__3R2sS\"};","import React from 'react';\n\nfunction Input({ value, onChangeComp, type, label }) {\n  return (\n    <>\n      {' '}\n      {label}:{' '}\n      <input\n        value={value}\n        onChange={(e) => onChangeComp(e.target.value)}\n        type={type}\n      />\n    </>\n  );\n}\n\nexport default Input;\n","import React from 'react';\nimport Input from './Input';\n\nfunction Filter({ filterValue, setfilterValue }) {\n  return (\n    <div style={{ marginBottom: '20px' }}>\n      <Input\n        type='text'\n        value={filterValue}\n        onChangeComp={setfilterValue}\n        label='filter shown with'\n      />{' '}\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from 'react';\n\nfunction Persons({ persons, filterValue, personHandleDelete }) {\n  return persons.length > 0 && !filterValue\n    ? persons.map((el) => (\n        <p key={el.name}>\n          {el.name} : {el.phoneNumber}\n          <button\n            style={{ marginLeft: '20px' }}\n            onClick={() => personHandleDelete(el.id, el.name)}\n          >\n            delete\n          </button>\n        </p>\n      ))\n    : persons\n        .filter((el) =>\n          el.name.toLowerCase().includes(filterValue.toLowerCase())\n        )\n        .map((el) => (\n          <p key={el.name}>\n            {el.name} : {el.phoneNumber}\n          </p>\n        ));\n}\n\nexport default Persons;\n","import React from 'react';\nimport classes from './Notification.module.css';\n\nfunction Notification({ message, color }) {\n  if (!message) return null;\n  return (\n    <div className={classes.error} style={{ color: color }}>\n      {message}\n    </div>\n  );\n}\n\nexport default Notification;\n","import axios from 'axios';\n\nconst baseUrl = 'https://shielded-escarpment-66552.herokuapp.com/api/persons';\n\nexport const getAllNotes = async () => {\n  const res = await axios.get(baseUrl);\n  console.log(res);\n  return res.data;\n};\n\nexport const createNote = async (data) => {\n  return await axios.post(baseUrl, data);\n};\nexport const updateNote = async (id, data) => {\n  try {\n    const res = await axios.patch(`${baseUrl}/${id}`, data);\n    return res.data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const deleteNote = async (id) => {\n  return await axios.delete(`${baseUrl}/${id}`);\n};\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Filter from './components/Filter';\nimport Input from './components/Input';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport {\n  getAllNotes,\n  createNote,\n  deleteNote,\n  updateNote,\n} from './services/Notes';\n\nconst App = () => {\n  // const [persons, setPersons] = useState([]);\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [messageColor, setMessageColor] = useState(null);\n\n  const [newName, setNewName] = useState('');\n  const [newphoneNumber, setNewphoneNumber] = useState('');\n  const [filterValue, setfilterValue] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await getAllNotes();\n      console.log(res.data);\n      setPersons(res.data);\n    };\n    fetchData();\n  }, []);\n\n  const formHandler = async (e) => {\n    e.preventDefault();\n    const data = {\n      name: newName,\n      phoneNumber: newphoneNumber,\n    };\n\n    if (persons.some((el) => el.name === newName)) {\n      setMessage(null);\n      const confirm = window.confirm(\n        `${newName} is already addded to phonebook,DO you want to replace the old number with a new one`\n      );\n      if (confirm) {\n        const singlePerson = persons.filter((el) => el.name === newName);\n        console.log(singlePerson);\n        const id = singlePerson[0].id;\n        console.log(id);\n\n        await updateNote(id, data);\n        const res2 = await getAllNotes();\n\n        await setPersons(res2.data);\n        setMessage(`Changed number of ${newName} successfully`);\n        setMessageColor('green');\n\n        setNewName('');\n        setNewphoneNumber('');\n      }\n    } else {\n      const res = await createNote(data);\n      console.log(res);\n      const res2 = await getAllNotes();\n\n      await setPersons(res2.data);\n      setMessage(` Added ${newName} successfully`);\n      setMessageColor('green');\n\n      setNewName('');\n      setNewphoneNumber('');\n    }\n  };\n  if (message) {\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  }\n  // delete\n\n  const personHandleDelete = async (id, name) => {\n    console.log(id);\n    const confirm = window.confirm(`Do you really want to Delete ${name} ?`);\n    // confirm will give true or false , true if pressed ok\n    if (confirm) {\n      try {\n        const res = await deleteNote(id);\n        console.log(res);\n        const newPersons = persons.filter((el) => el.id !== id);\n        await setPersons(newPersons);\n      } catch (error) {\n        setMessageColor('red');\n        setMessage(\n          `Information of this person has already been removed from the server. Please refresh the page`\n        );\n        console.log(error);\n      }\n    }\n  };\n  return (\n    <div>\n      <Notification message={message} color={messageColor} />\n      <h2>Phonebook</h2>\n      <Filter value={filterValue} setfilterValue={setfilterValue} />\n\n      <form onSubmit={formHandler}>\n        <div style={{ marginBottom: '20px' }}>\n          <Input\n            label='name'\n            value={newName}\n            onChangeComp={setNewName}\n            type='text'\n          />\n        </div>\n        <div style={{ marginBottom: '20px' }}>\n          <Input\n            label='phoneNumber'\n            value={newphoneNumber}\n            onChangeComp={setNewphoneNumber}\n            type='number'\n          />\n        </div>\n\n        <div>\n          <button type='submit'>add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filterValue={filterValue}\n        personHandleDelete={personHandleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}